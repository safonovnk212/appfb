<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook Ads Analytics - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-16">
                    <h1 class="header__title">FB Ads Analytics</h1>
                    <nav class="header__nav">
                        <button class="nav-btn nav-btn--active" data-tab="dashboard">–î–∞—à–±–æ—Ä–¥</button>
                        <button class="nav-btn" data-tab="campaigns">–ö–∞–º–ø–∞–Ω–∏–∏</button>
                        <button class="nav-btn" data-tab="creatives">–ö—Ä–µ–∞—Ç–∏–≤—ã</button>
                        <button class="nav-btn" data-tab="ai-tips">AI –°–æ–≤–µ—Ç—ã</button>
                        <button class="nav-btn" data-tab="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                    </nav>
                </div>
                <div class="flex items-center gap-16">
                    <button class="theme-toggle" id="themeToggle">üåô</button>
                    <button class="btn btn--primary" id="addCampaignBtn">+ –î–æ–±–∞–≤–∏—Ç—å –∫–∞–º–ø–∞–Ω–∏—é</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Dashboard Tab -->
            <div class="tab-content tab-content--active" id="dashboard">
                <div class="dashboard-header">
                    <h2>–û–±–∑–æ—Ä –∫–∞–º–ø–∞–Ω–∏–π</h2>
                    <div class="flex items-center gap-16">
                        <select class="form-control period-selector" id="periodSelector">
                            <option value="7">–ü–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π</option>
                            <option value="30">–ü–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π</option>
                            <option value="90">–ü–æ—Å–ª–µ–¥–Ω–∏–µ 90 –¥–Ω–µ–π</option>
                        </select>
                        <button class="btn btn--outline" id="exportBtn">–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</button>
                    </div>
                </div>

                <div class="empty-state" id="emptyState">
                    <div class="empty-state__content">
                        <h3>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ FB Ads Analytics</h3>
                        <p>–ù–∞—á–Ω–∏—Ç–µ –∞–Ω–∞–ª–∏–∑, –¥–æ–±–∞–≤–∏–≤ —Å–≤–æ—é –ø–µ—Ä–≤—É—é —Ä–µ–∫–ª–∞–º–Ω—É—é –∫–∞–º–ø–∞–Ω–∏—é</p>
                        <div class="empty-state__actions">
                            <button class="btn btn--primary" id="addFromUtmBtn">–î–æ–±–∞–≤–∏—Ç—å –∏–∑ UTM —Å—Å—ã–ª–∫–∏</button>
                            <button class="btn btn--secondary" id="uploadCsvBtn">–ó–∞–≥—Ä—É–∑–∏—Ç—å CSV</button>
                            <button class="btn btn--outline" id="connectFbBtn">–ü–æ–¥–∫–ª—é—á–∏—Ç—å Facebook API</button>
                        </div>
                    </div>
                </div>

                <div class="dashboard-content hidden" id="dashboardContent">
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <h4>–û–±—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã</h4>
                            <div class="metric-value" id="totalSpend">$0.00</div>
                            <div class="metric-change" id="spendChange">-</div>
                        </div>
                        <div class="metric-card">
                            <h4>–°—Ä–µ–¥–Ω–∏–π CPM</h4>
                            <div class="metric-value" id="avgCpm">$0.00</div>
                            <div class="metric-change" id="cpmChange">-</div>
                        </div>
                        <div class="metric-card">
                            <h4>–°—Ä–µ–¥–Ω–∏–π CPC</h4>
                            <div class="metric-value" id="avgCpc">$0.00</div>
                            <div class="metric-change" id="cpcChange">-</div>
                        </div>
                        <div class="metric-card">
                            <h4>–°—Ä–µ–¥–Ω–∏–π CTR</h4>
                            <div class="metric-value" id="avgCtr">0.00%</div>
                            <div class="metric-change" id="ctrChange">-</div>
                        </div>
                        <div class="metric-card">
                            <h4>–°—Ä–µ–¥–Ω–∏–π ROAS</h4>
                            <div class="metric-value" id="avgRoas">0.00</div>
                            <div class="metric-change" id="roasChange">-</div>
                        </div>
                        <div class="metric-card">
                            <h4>–ö–æ–Ω–≤–µ—Ä—Å–∏–∏</h4>
                            <div class="metric-value" id="totalConversions">0</div>
                            <div class="metric-change" id="conversionsChange">-</div>
                        </div>
                    </div>

                    <div class="charts-grid">
                        <div class="chart-container">
                            <h4>–î–∏–Ω–∞–º–∏–∫–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤</h4>
                            <canvas id="spendChart" height="300"></canvas>
                        </div>
                        <div class="chart-container">
                            <h4>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ –∫–∞–º–ø–∞–Ω–∏—è–º</h4>
                            <canvas id="campaignChart" height="300"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Campaigns Tab -->
            <div class="tab-content" id="campaigns">
                <div class="campaigns-header">
                    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏—è–º–∏</h2>
                    <button class="btn btn--primary" id="addCampaignBtn2">+ –î–æ–±–∞–≤–∏—Ç—å –∫–∞–º–ø–∞–Ω–∏—é</button>
                </div>
                <div class="campaigns-list" id="campaignsList">
                    <div class="empty-campaigns">
                        <p>–ö–∞–º–ø–∞–Ω–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –∫–∞–º–ø–∞–Ω–∏—é –¥–ª—è –Ω–∞—á–∞–ª–∞ –∞–Ω–∞–ª–∏–∑–∞.</p>
                    </div>
                </div>
            </div>

            <!-- Creatives Tab -->
            <div class="tab-content" id="creatives">
                <div class="creatives-header">
                    <h2>–ê–Ω–∞–ª–∏–∑ –∫—Ä–µ–∞—Ç–∏–≤–æ–≤</h2>
                    <div class="creatives-filters">
                        <select class="form-control" id="campaignFilter">
                            <option value="">–í—Å–µ –∫–∞–º–ø–∞–Ω–∏–∏</option>
                        </select>
                        <select class="form-control" id="statusFilter">
                            <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                            <option value="active">–ê–∫—Ç–∏–≤–Ω—ã–µ</option>
                            <option value="paused">–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ</option>
                            <option value="fatigue">–£—Å—Ç–∞–ª–æ—Å—Ç—å</option>
                        </select>
                    </div>
                </div>
                <div class="creatives-grid" id="creativesGrid">
                    <div class="empty-creatives">
                        <p>–ö—Ä–µ–∞—Ç–∏–≤—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –î–æ–±–∞–≤—å—Ç–µ –∫–∞–º–ø–∞–Ω–∏–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫—Ä–µ–∞—Ç–∏–≤–æ–≤.</p>
                    </div>
                </div>
            </div>

            <!-- AI Tips Tab -->
            <div class="tab-content" id="ai-tips">
                <div class="ai-tips-header">
                    <h2>AI –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h2>
                    <button class="btn btn--primary" id="generateTipsBtn">–û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</button>
                </div>
                <div class="ai-tips-content" id="aiTipsContent">
                    <div class="empty-tips">
                        <p>–î–æ–±–∞–≤—å—Ç–µ –∫–∞–º–ø–∞–Ω–∏–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.</p>
                    </div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div class="tab-content" id="settings">
                <div class="settings-content">
                    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                    <div class="settings-section">
                        <h3>Facebook API</h3>
                        <div class="form-group">
                            <label class="form-label">Access Token</label>
                            <input type="text" class="form-control" id="fbAccessToken" placeholder="–í–≤–µ–¥–∏—Ç–µ Access Token">
                        </div>
                        <button class="btn btn--primary" id="saveFbTokenBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω</button>
                    </div>
                    <div class="settings-section">
                        <h3>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                        <div class="form-group">
                            <label class="form-label">
                                <input type="checkbox" id="emailNotifications"> Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">
                                <input type="checkbox" id="alertThresholds"> –û–ø–æ–≤–µ—â–µ–Ω–∏—è –æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–æ–≤
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Add Campaign Modal -->
    <div class="modal" id="addCampaignModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–î–æ–±–∞–≤–∏—Ç—å –∫–∞–º–ø–∞–Ω–∏—é</h3>
                <button class="modal-close" id="closeAddModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-tabs">
                    <button class="modal-tab modal-tab--active" data-method="utm">UTM –°—Å—ã–ª–∫–∞</button>
                    <button class="modal-tab" data-method="csv">CSV –§–∞–π–ª</button>
                    <button class="modal-tab" data-method="api">Facebook API</button>
                </div>

                <!-- UTM Method -->
                <div class="method-content method-content--active" id="utmMethod">
                    <div class="form-group">
                        <label class="form-label">UTM –°—Å—ã–ª–∫–∞</label>
                        <textarea class="form-control" id="utmUrl" rows="3" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ UTM —Å—Å—ã–ª–∫—É —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ Facebook..."></textarea>
                    </div>
                    <div class="utm-preview" id="utmPreview"></div>
                    <button class="btn btn--primary btn--full-width" id="parseUtmBtn">–û–±—Ä–∞–±–æ—Ç–∞—Ç—å UTM</button>
                </div>

                <!-- CSV Method -->
                <div class="method-content" id="csvMethod">
                    <div class="form-group">
                        <label class="form-label">CSV —Ñ–∞–π–ª –∏–∑ Facebook Ads Manager</label>
                        <input type="file" class="form-control" id="csvFile" accept=".csv">
                    </div>
                    <div class="csv-preview" id="csvPreview"></div>
                    <button class="btn btn--primary btn--full-width" id="uploadCsvDataBtn">–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</button>
                </div>

                <!-- API Method -->
                <div class="method-content" id="apiMethod">
                    <div class="form-group">
                        <label class="form-label">Account ID</label>
                        <input type="text" class="form-control" id="accountId" placeholder="act_123456789">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Campaign ID (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
                        <input type="text" class="form-control" id="campaignId" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –≤—Å–µ—Ö –∫–∞–º–ø–∞–Ω–∏–π">
                    </div>
                    <button class="btn btn--primary btn--full-width" id="fetchFromApiBtn">–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Creative Detail Modal -->
    <div class="modal" id="creativeModal">
        <div class="modal-content modal-content--large">
            <div class="modal-header">
                <h3 id="creativeModalTitle">–ê–Ω–∞–ª–∏–∑ –∫—Ä–µ–∞—Ç–∏–≤–∞</h3>
                <button class="modal-close" id="closeCreativeModal">&times;</button>
            </div>
            <div class="modal-body" id="creativeModalBody">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div class="toast" id="toast">
        <div class="toast-content">
            <span class="toast-message" id="toastMessage"></span>
            <button class="toast-close" id="toastClose">&times;</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>