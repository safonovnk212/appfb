<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook Ads –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å AI</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>Facebook Ads –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å AI</h1>
            <div class="theme-switcher">
                <button id="themeToggle" class="btn btn--secondary btn--sm">
                    üåô –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
                </button>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav">
            <button class="nav-btn nav-btn--active" data-tab="dashboard">–î–∞—à–±–æ—Ä–¥</button>
            <button class="nav-btn" data-tab="data-loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö</button>
            <button class="nav-btn" data-tab="ai-recommendations">AI –°–æ–≤–µ—Ç—ã</button>
        </nav>

        <!-- Dashboard Tab -->
        <div class="tab-content" id="dashboard">
            <div class="dashboard">
                <!-- Summary Cards -->
                <div class="summary-cards">
                    <div class="card summary-card">
                        <div class="card__body">
                            <h3>–û–±—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã</h3>
                            <div class="metric-value" id="totalSpent">$0.00</div>
                        </div>
                    </div>
                    <div class="card summary-card">
                        <div class="card__body">
                            <h3>–°—Ä–µ–¥–Ω–∏–π CTR</h3>
                            <div class="metric-value" id="avgCTR">0.00%</div>
                        </div>
                    </div>
                    <div class="card summary-card">
                        <div class="card__body">
                            <h3>–°—Ä–µ–¥–Ω–∏–π CPC</h3>
                            <div class="metric-value" id="avgCPC">$0.00</div>
                        </div>
                    </div>
                    <div class="card summary-card">
                        <div class="card__body">
                            <h3>ROAS</h3>
                            <div class="metric-value" id="avgROAS">0.00</div>
                        </div>
                    </div>
                </div>

                <!-- Date Filter -->
                <div class="filter-section">
                    <label class="form-label">–ü–µ—Ä–∏–æ–¥:</label>
                    <select id="dateFilter" class="form-control" style="max-width: 200px;">
                        <option value="7">–ü–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π</option>
                        <option value="30" selected>–ü–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π</option>
                        <option value="90">–ü–æ—Å–ª–µ–¥–Ω–∏–µ 90 –¥–Ω–µ–π</option>
                    </select>
                </div>

                <!-- Charts -->
                <div class="charts-section">
                    <div class="card">
                        <div class="card__body">
                            <h3>–î–∏–Ω–∞–º–∏–∫–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤</h3>
                            <div class="chart-container">
                                <canvas id="spendChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Campaigns List -->
                <div class="campaigns-section">
                    <div class="card">
                        <div class="card__header">
                            <h3>–ö–∞–º–ø–∞–Ω–∏–∏</h3>
                        </div>
                        <div class="card__body">
                            <div id="campaignsList" class="campaigns-list">
                                <div class="empty-state">
                                    <p>–ù–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö" –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞–º–ø–∞–Ω–∏–π.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Data Loading Tab -->
        <div class="tab-content hidden" id="data-loading">
            <div class="data-loading">
                <h2>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö</h2>

                <!-- UTM Link Section -->
                <div class="card">
                    <div class="card__header">
                        <h3>–î–æ–±–∞–≤–∏—Ç—å –∏–∑ UTM —Å—Å—ã–ª–∫–∏</h3>
                    </div>
                    <div class="card__body">
                        <div class="form-group">
                            <label class="form-label">UTM —Å—Å—ã–ª–∫–∞:</label>
                            <input type="text" id="utmLink" class="form-control" 
                                   placeholder="https://stronglife.broun.shop/qVHSJLXq?fbclid={fbclid}&utm_campaign={{campaign.name}}...">
                        </div>
                        <button id="parseUtmBtn" class="btn btn--primary">–î–æ–±–∞–≤–∏—Ç—å –∏–∑ —Å—Å—ã–ª–∫–∏</button>
                        <div id="utmResult" class="result-message"></div>
                    </div>
                </div>

                <!-- CSV Upload Section -->
                <div class="card">
                    <div class="card__header">
                        <h3>–ó–∞–≥—Ä—É–∑–∏—Ç—å CSV —Ñ–∞–π–ª</h3>
                    </div>
                    <div class="card__body">
                        <div class="form-group">
                            <label class="form-label">CSV —Ñ–∞–π–ª –∏–∑ Facebook Ads Manager:</label>
                            <input type="file" id="csvFile" class="form-control" accept=".csv">
                        </div>
                        <button id="uploadCsvBtn" class="btn btn--primary">–ó–∞–≥—Ä—É–∑–∏—Ç—å CSV</button>
                        <div id="csvResult" class="result-message"></div>
                    </div>
                </div>

                <!-- API Connection Section -->
                <div class="card">
                    <div class="card__header">
                        <h3>–ü–æ–¥–∫–ª—é—á–∏—Ç—å Facebook API</h3>
                    </div>
                    <div class="card__body">
                        <div class="form-group">
                            <label class="form-label">Facebook Access Token:</label>
                            <input type="password" id="fbToken" class="form-control" 
                                   placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à Facebook Access Token">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Account ID:</label>
                            <input type="text" id="fbAccountId" class="form-control" 
                                   placeholder="act_123456789">
                        </div>
                        <button id="connectApiBtn" class="btn btn--primary">–ü–æ–¥–∫–ª—é—á–∏—Ç—å API</button>
                        <div id="apiResult" class="result-message"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Recommendations Tab -->
        <div class="tab-content hidden" id="ai-recommendations">
            <div class="ai-recommendations">
                <h2>AI –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h2>
                
                <div class="recommendations-section">
                    <div class="card">
                        <div class="card__header">
                            <h3>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∫–∞–º–ø–∞–Ω–∏–π</h3>
                        </div>
                        <div class="card__body">
                            <div id="campaignRecommendations" class="recommendations-list">
                                <div class="empty-state">
                                    <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–π –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card__header">
                            <h3>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∫—Ä–µ–∞—Ç–∏–≤–æ–≤</h3>
                        </div>
                        <div class="card__body">
                            <div id="creativeRecommendations" class="recommendations-list">
                                <div class="empty-state">
                                    <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>